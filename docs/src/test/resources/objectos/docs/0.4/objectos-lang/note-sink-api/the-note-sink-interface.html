<!doctype html><html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="shortcut icon" type="vnd.microsoft.icon" href="/favicon.ico">
<title>Using the NoteSink interface</title>
<style>*, ::before, ::after {
  box-sizing: border-box;
  border-width: 0;
  border-style: solid;
  border-color: currentcolor;
}

html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

body {
  margin: 0;
  line-height: inherit;
}

hr {
  height: 0;
  color: inherit;
  border-top-width: 1px;
}

h1, h2, h3, h4, h5, h6 {
  font-size: inherit;
  font-weight: inherit;
}

a {
  color: inherit;
  text-decoration: inherit;
}

b, strong {
  font-weight: bolder;
}

code, kbd, samp, pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 1em;
}

small {
  font-size: 80%;
}

sub, sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

table {
  text-indent: 0;
  border-color: inherit;
  border-collapse: collapse;
}

button, input, optgroup, select, textarea {
  font-family: inherit;
  font-size: 100%;
  font-weight: inherit;
  line-height: inherit;
  color: inherit;
  margin: 0;
  padding: 0;
}

button, select {
  text-transform: none;
}

button, [type="button"], [type="reset"], [type="submit"] {
  -webkit-appearance: button;
  background-color: transparent;
  background-image: none;
}

:-moz-focusring {
  outline: auto;
}

:-moz-ui-invalid {
  box-shadow: none;
}

progress {
  vertical-align: baseline;
}

::-webkit-inner-spin-button, ::-webkit-outer-spin-button {
  height: auto;
}

[type="search"] {
  -webkit-appearance: textfield;
  outline-offset: -2px;
}

::-webkit-search-decoration {
  -webkit-appearance: none;
}

::-webkit-file-upload-button {
  -webkit-appearance: button;
  font: inherit;
}

summary {
  display: list-item;
}

blockquote, dl, dd, h1, h2, h3, h4, h5, h6, hr, figure, p, pre {
  margin: 0;
}

fieldset {
  margin: 0;
  padding: 0;
}

legend {
  padding: 0;
}

ol, ul, menu {
  list-style: none;
  margin: 0;
  padding: 0;
}

textarea {
  resize: vertical;
}

input::placeholder, textarea::placeholder {
  opacity: 1;
  color: #9ca3af;
}

button, [role="button"] {
  cursor: pointer;
}

:disabled {
  cursor: default;
}

img, svg {
  display: block;
  vertical-align: middle;
}

img {
  max-width: 100%;
  height: auto;
}

.zyd3o {
  background-color: #000000;
}

.qijmu {
  background-color: #ffffff;
}

.jxx3e {
  background-color: #e2e8f0;
}

.ro9of {
  background-color: #f3f4f6;
}

.cdp0d {
  background-color: #9ca3af;
}

.trsys {
  background-color: #fee2e2;
}

.nqbw6:hover {
  background-color: #f3f4f6;
}

.akhzt:hover {
  background-color: #6b7280;
}.y48jc {
  border-color: #e2e8f0;
}

.aae45 {
  border-color: #cbd5e1;
}

.z4im8 {
  border-color: #94a3b8;
}@media screen and (min-width: 1024px) {
  .c8y52 {
    border-color: #e2e8f0;
  }
}.whsdh {
  border-top-width: 1px;
}@media screen and (min-width: 1024px) {
  .aejlm {
    border-right-width: 1px;
  }
}.ju43g {
  border-bottom-width: 1px;
}.sggm1 {
  border-radius: 0.25em;
}.yepub {
  opacity: 0.5;
}.dv73i {
  align-items: stretch;
}

.ug8lq {
  align-items: center;
}.j0egu {
  flex: none;
}@media screen and (min-width: 1024px) {
  .ufrvl {
    flex: none;
  }
}

@media screen and (min-width: 1280px) {
  .huhvs {
    flex: none;
  }
}.qajuv {
  flex-direction: row-reverse;
}

.hnlx2 {
  flex-direction: column;
}.xsbsl {
  flex-grow: 1;
}.krs2h {
  justify-content: space-between;
}.gh2jr:hover {
  cursor: pointer;
}.i8fst {
  display: none;
}

.iykr7 {
  display: block;
}

.vps5y {
  display: inline-block;
}

.nn2ol {
  display: flex;
}@media screen and (min-width: 1024px) {
  .huahe {
    display: none;
  }

  .wjtvw {
    display: block;
  }
}

@media screen and (min-width: 1280px) {
  .xpuif {
    display: block;
  }
}.ge7ms {
  top: 0;
}

.exttn {
  top: 1rem;
}.dlqnw {
  left: 0.75rem;
}.geko4 {
  overflow-x: auto;
}.c7qie {
  overflow-y: auto;
}.kfpsy {
  position: fixed;
}

.cjtsr {
  position: absolute;
}@media screen and (min-width: 1024px) {
  .lw8wa {
    position: static;
  }
}.x2eax {
  z-index: 10;
}

.wjvpt {
  z-index: 20;
}.py635 {
  height: 1.5rem;
}

.nntrz {
  height: 3rem;
}

.ma2jt {
  height: 4rem;
}

.yhvtk {
  height: 100vh;
}@media screen and (min-width: 1024px) {
  .eikbw {
    height: auto;
  }
}.bxwld {
  min-height: 100%;
}.yh0a5 {
  width: 1.5rem;
}

.romio {
  width: 3rem;
}

.uhpmw {
  width: 18rem;
}

.x1yot {
  width: 100vw;
}@media screen and (min-width: 1024px) {
  .prrrf {
    width: 14rem;
  }
}

@media screen and (min-width: 1280px) {
  .q5jsz {
    width: 16rem;
  }
}.tvi2j {
  max-width: 100%;
}

.btui4 {
  max-width: 1440px;
}.ltu72 {
  min-width: 0;
}.vtvvj {
  margin-right: auto;
  margin-left: auto;
}.jsfoj {
  margin-top: 0.75rem;
  margin-bottom: 0.75rem;
}.bufq2 {
  margin-top: 1.5rem;
}

.c7o9s {
  margin-top: 2.5rem;
}.eikim {
  margin-bottom: 0.25rem;
}

.tpm30 {
  margin-bottom: 1rem;
}

.dzuaq {
  margin-bottom: 2.5rem;
}.kmlxe {
  padding: 0.25rem;
}

.idqc8 {
  padding: 0.5rem;
}

.qeblf {
  padding: 0.75rem;
}.ug5si {
  padding-right: 0.25rem;
  padding-left: 0.25rem;
}

.qnq6g {
  padding-right: 0.5rem;
  padding-left: 0.5rem;
}

.xlkj5 {
  padding-right: 0.75rem;
  padding-left: 0.75rem;
}

.nptln {
  padding-right: 1rem;
  padding-left: 1rem;
}.zohbk {
  padding-top: 0.125rem;
  padding-bottom: 0.125rem;
}

.lwgdd {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}

.ydufq {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

.prr0x {
  padding-top: 8rem;
  padding-bottom: 8rem;
}.nvybs {
  padding-top: 1.5rem;
}@media screen and (min-width: 1280px) {
  .f2lvo {
    padding-top: 2rem;
  }
}@media screen and (min-width: 1024px) {
  .mfng3 {
    padding-right: 0.5rem;
  }
}

@media screen and (min-width: 1280px) {
  .vvnvk {
    padding-right: 2.5rem;
  }
}.ybl18 {
  padding-bottom: 0.25rem;
}

.yj4jb {
  padding-bottom: 2rem;
}

.xntpc {
  padding-bottom: 6rem;
}.qqfp2 {
  padding-left: 1.5rem;
}

.cii9r {
  padding-left: 2rem;
}@media screen and (min-width: 1024px) {
  .b4ikd {
    padding-left: 0.5rem;
  }
}

@media screen and (min-width: 1280px) {
  .bgcgt {
    padding-left: 2.5rem;
  }
}.m89kh {
  font-size: 0.75rem;
}

.uga4h {
  font-size: 0.875rem;
}

.cc50f {
  font-size: 1.125rem;
}

.xlvaa {
  font-size: 1.5rem;
}

.wlqek {
  font-size: 1.875rem;
}.lsd3t {
  font-weight: 400;
}

.q1r5y {
  font-weight: 600;
}.efub7 {
  letter-spacing: -0.025rem;
}.hjg9i {
  list-style-type: disc;
}.d2ko0 {
  text-align: center;
}.bo7wo {
  color: #000000;
}

.zaiau {
  color: #ffffff;
}

.o2bw2 {
  color: #292524;
}

.nq8y5 {
  color: #15803d;
}

.b1qfi {
  color: #2563eb;
}

.frume {
  color: #a21caf;
}

.qcp59:hover {
  color: #1e3a8a;
}.ypzq6 {
  text-decoration: underline;
}.x32kh {
  text-transform: uppercase;
}@media screen and (min-width: 1280px) {
  .c2j {
    width: 17.5rem;
  }
}</style>
<script>(function() {
  function onClick(id, listener) {
    const el = document.getElementById(id);

    el.addEventListener("click", listener);
  }

  function setStyle(id, propName, value) {
    const el = document.getElementById(id);

    el.style[propName] = value;
  }

  function menuCloseClicked(event) {
    setStyle("ccg", "display", null);
    setStyle("w7m", "overflow", null);
    setStyle("mgm", "display", null);
    setStyle("k9l", "display", null);
    setStyle("du5", "display", null);
  }

  function menuOpenClicked(event) {
    setStyle("ccg", "display", "block");
    setStyle("w7m", "overflow", "hidden");
    setStyle("mgm", "display", "block");
    setStyle("k9l", "display", "none");
    setStyle("du5", "display", "block");
  }

  function domLoaded() {
    onClick("ccg", menuCloseClicked);
    onClick("mgm", menuCloseClicked);
    onClick("k9l", menuOpenClicked);
  }

  window.addEventListener('DOMContentLoaded', domLoaded);
})();
</script>
</head>
<body id="w7m" class="nn2ol hnlx2">
<header class="j0egu ma2jt ydufq">
<nav class="vtvvj btui4">&nbsp;</nav>
</header>
<div class="trsys y48jc whsdh ydufq">
<div class="uga4h vtvvj btui4 nptln d2ko0">
<p>You are reading the documentation of an old and unsupported version of Objectos.</p>
</div>
</div>
<div>
<div id="ccg" class="zyd3o i8fst yepub kfpsy ge7ms yhvtk x1yot x2eax"></div>
<span id="k9l" class="gh2jr vps5y huahe kmlxe cjtsr dlqnw exttn"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="vps5y py635 yh0a5"><path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path></svg></span></div>
<div class="y48jc whsdh xsbsl">
<div class="dv73i nn2ol vtvvj btui4 bxwld">
<nav id="du5" class="qijmu i8fst yhvtk c7qie kfpsy ge7ms uhpmw wjvpt wjtvw eikbw lw8wa c8y52 aejlm ufrvl uga4h lsd3t xntpc b4ikd mfng3 o2bw2 prrrf c2j">
<div class="ug8lq y48jc ju43g nn2ol huahe qajuv ma2jt"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" id="mgm" class="gh2jr iykr7 idqc8 nntrz romio"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></div>
<div class="ug8lq nn2ol krs2h eikim xlkj5 nvybs">
<div>Version 0.4.4</div>
<a href="/versions.html" class="cdp0d akhzt m89kh qnq6g lwgdd sggm1 zaiau">Change</a></div>
<a href="/0.4/api/index.html" class="nqbw6 nn2ol ug8lq krs2h tpm30 xlkj5 lwgdd"><span>Javadocs</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"></path><path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"></path></svg></a>
<ul>
<li><a href="/0.4/index.html" class="nqbw6 xlkj5 lwgdd iykr7">Back</a></li>
<li>
<h2 class="q1r5y ybl18 nvybs xlkj5 bo7wo x32kh">Objectos Lang</h2>
<ul>
<li><a href="/0.4/objectos-lang/index.html" class="nqbw6 xlkj5 lwgdd iykr7">Overview</a></li>
<li><a href="/0.4/objectos-lang/Check.html" class="nqbw6 xlkj5 lwgdd iykr7">The <code>Check</code> class</a></li>
<li><a href="/0.4/objectos-lang/Equals.html" class="nqbw6 xlkj5 lwgdd iykr7">The <code>Equals</code> class</a></li>
<li><a href="/0.4/objectos-lang/HashCode.html" class="nqbw6 xlkj5 lwgdd iykr7">The <code>HashCode</code> class</a></li>
<li><a href="/0.4/objectos-lang/ToString.html" class="nqbw6 xlkj5 lwgdd iykr7">The <code>ToString</code> facility</a></li>
<li><a href="/0.4/objectos-lang/note-sink-api/index.html" class="nqbw6 xlkj5 lwgdd iykr7">The note sink API</a>
<ul>
<li><a href="/0.4/objectos-lang/note-sink-api/creating-notes.html" class="nqbw6 qqfp2 xlkj5 lwgdd iykr7">Creating notes</a></li>
<li><a href="/0.4/objectos-lang/note-sink-api/the-note-sink-interface.html" class="jxx3e bo7wo qqfp2 xlkj5 lwgdd iykr7">Using the <code>NoteSink</code> interface</a></li>
<li><a href="/0.4/objectos-lang/note-sink-api/the-no-op-note-sink.html" class="nqbw6 qqfp2 xlkj5 lwgdd iykr7">The <code>NoOpNoteSink</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<main class="xsbsl ltu72 xntpc nptln nvybs f2lvo bgcgt">
<article>
<header class="z4im8 ju43g dzuaq yj4jb">
<h1 class="wlqek efub7">Using the <code>NoteSink</code> interface</h1>
</header>
<div class="qajuv nn2ol tvi2j">
<div class="i8fst xpuif huhvs q5jsz">&nbsp;</div>
<div class="xsbsl ltu72 vvnvk">
<p class="jsfoj">After declaring your note instances you can send them by using the <code class="ro9of uga4h ug5si zohbk">NoteSink</code> interface.</p>
<p class="jsfoj">In this section we will give you instructions on how to use the <code class="ro9of uga4h ug5si zohbk">NoteSink</code> interface.</p>
<h2 class="xlvaa c7o9s">Obtaining <code>NoteSink</code> instances</h2>
<p class="jsfoj">As seen in the previous section notes are bound to a particular class as, by default,
their source is set to the fully qualified name of the class in which the note was declared.</p>
<p class="jsfoj">The first thing to know about <code class="ro9of uga4h ug5si zohbk">NoteSink</code> instances is that, unlike notes,
<code class="ro9of uga4h ug5si zohbk">NoteSink</code> instances <em>are not bound</em> to a particular class. Typically
<code class="ro9of uga4h ug5si zohbk">NoteSink</code> instances <strong>will not be</strong> <code class="ro9of uga4h ug5si zohbk">static final</code> fields of a class.</p>
<p class="jsfoj">Next we will discuss the recommended strategies for obtaining <code class="ro9of uga4h ug5si zohbk">NoteSink</code> instances.</p>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj">Via constructor</h3>
<p class="jsfoj">This is the recommended way to obtain <code class="ro9of uga4h ug5si zohbk">NoteSink</code> instances. In particular for
the long-lived objects of your Java application.</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">import</span><span class="wnn"> </span><span class="sfv">objectos</span><span class="xz3">.</span><span class="sfv">lang</span><span class="xz3">.</span><span class="xz3">*</span><span class="xz3">;</span><span class="wnn">

</span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">class</span><span class="wnn"> </span><span class="sfv">Service</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
  </span><span class="b1qfi">private</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">;</span><span class="wnn">

  </span><span class="sfv">Service</span><span class="xz3">(</span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
    </span><span class="b1qfi">this</span><span class="xz3">.</span><span class="sfv">sink</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">;</span><span class="wnn">
  </span><span class="xz3">}</span><span class="wnn">
</span><span class="xz3">}</span></code></pre>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj">Via method parameter</h3>
<p class="jsfoj">If you are concerned about object size and garbage creation, storing the <code class="ro9of uga4h ug5si zohbk">NoteSink</code>
in an instance field might be problematic. If the class or the method where the
noting takes place is not part of a public API, you can pass the <code class="ro9of uga4h ug5si zohbk">NoteSink</code> via a method parameter.</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">import</span><span class="wnn"> </span><span class="sfv">objectos</span><span class="xz3">.</span><span class="sfv">lang</span><span class="xz3">.</span><span class="xz3">*</span><span class="xz3">;</span><span class="wnn">

</span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">class</span><span class="wnn"> </span><span class="sfv">ShortLived</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
  </span><span class="b1qfi">void</span><span class="wnn"> </span><span class="sfv">internalMethod</span><span class="xz3">(</span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
    </span><span class="frume">// use sink here</span><span class="wnn">
  </span><span class="xz3">}</span><span class="wnn">
</span><span class="xz3">}</span></code></pre>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj">Via setter method</h3>
<p class="jsfoj">The previous option might not work for you if the method where the noting takes place
is part of the exported API. In this case you can use a setter method for the <code class="ro9of uga4h ug5si zohbk">NoteSink</code> instance.</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">import</span><span class="wnn"> </span><span class="sfv">objectos</span><span class="xz3">.</span><span class="sfv">lang</span><span class="xz3">.</span><span class="xz3">*</span><span class="xz3">;</span><span class="wnn">

</span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">class</span><span class="wnn"> </span><span class="sfv">Setter</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
  </span><span class="b1qfi">private</span><span class="wnn"> </span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">sink</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">NoOpNoteSink</span><span class="xz3">.</span><span class="sfv">getInstance</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">

  </span><span class="b1qfi">void</span><span class="wnn"> </span><span class="sfv">setNoteSink</span><span class="xz3">(</span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
    </span><span class="b1qfi">if</span><span class="wnn"> </span><span class="xz3">(</span><span class="sfv">sink</span><span class="wnn"> </span><span class="xz3">=</span><span class="xz3">=</span><span class="wnn"> </span><span class="b1qfi">null</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
      </span><span class="b1qfi">throw</span><span class="wnn"> </span><span class="b1qfi">new</span><span class="wnn"> </span><span class="sfv">NullPointerException</span><span class="xz3">(</span><span class="nq8y5">&quot;sink == null&quot;</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">
    </span><span class="xz3">}</span><span class="wnn">

    </span><span class="b1qfi">this</span><span class="xz3">.</span><span class="sfv">sink</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">;</span><span class="wnn">
  </span><span class="xz3">}</span><span class="wnn">
</span><span class="xz3">}</span></code></pre>
<p class="jsfoj">You must be aware this strategy is error-prone:</p>
<ul class="hjg9i cii9r">
<li class="jsfoj">you must null-check before setting the <code class="ro9of uga4h ug5si zohbk">sink</code> field value;</li>
<li class="jsfoj">you must set the <code class="ro9of uga4h ug5si zohbk">sink</code> to a default value to avoid null-pointer exceptions. Typically this
will be the <a href="/0.4/objectos-lang/note-sink-api/the-no-op-note-sink.html" class="b1qfi qcp59 ypzq6"><code class="ro9of uga4h ug5si zohbk">NoOpNoteSink</code></a>; and</li>
<li class="jsfoj">depending on your requirements, you might need some sort of synchronization.</li>
</ul>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj">Via static factory</h3>
<p class="jsfoj">As a last resort, you can create your own static factory. Since we consider it a last
resort, Objectos Lang does not provide one out-of-the-box. A minimal example is:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">import</span><span class="wnn"> </span><span class="sfv">objectos</span><span class="xz3">.</span><span class="sfv">lang</span><span class="xz3">.</span><span class="xz3">*</span><span class="xz3">;</span><span class="wnn">

</span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="b1qfi">class</span><span class="wnn"> </span><span class="sfv">StaticNoteSink</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
  </span><span class="b1qfi">private</span><span class="wnn"> </span><span class="b1qfi">static</span><span class="wnn"> </span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">SINK</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">NoOpNoteSink</span><span class="xz3">.</span><span class="sfv">getInstance</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">

  </span><span class="b1qfi">private</span><span class="wnn"> </span><span class="sfv">StaticNoteSink</span><span class="xz3">(</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="xz3">}</span><span class="wnn">

  </span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">static</span><span class="wnn"> </span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">get</span><span class="xz3">(</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
    </span><span class="b1qfi">return</span><span class="wnn"> </span><span class="sfv">SINK</span><span class="xz3">;</span><span class="wnn">
  </span><span class="xz3">}</span><span class="wnn">

  </span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">void</span><span class="wnn"> </span><span class="sfv">set</span><span class="xz3">(</span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
    </span><span class="b1qfi">if</span><span class="wnn"> </span><span class="xz3">(</span><span class="sfv">sink</span><span class="wnn"> </span><span class="xz3">=</span><span class="xz3">=</span><span class="wnn"> </span><span class="b1qfi">null</span><span class="xz3">)</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
      </span><span class="b1qfi">throw</span><span class="wnn"> </span><span class="b1qfi">new</span><span class="wnn"> </span><span class="sfv">NullPointerException</span><span class="xz3">(</span><span class="nq8y5">&quot;sink == null&quot;</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">
    </span><span class="xz3">}</span><span class="wnn">

    </span><span class="sfv">SINK</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">sink</span><span class="xz3">;</span><span class="wnn">
  </span><span class="xz3">}</span><span class="wnn">
</span><span class="xz3">}</span></code></pre>
<p class="jsfoj">During application initialization, set the static factory with a proper <code class="ro9of uga4h ug5si zohbk">NoteSink</code> instance.
Then, in the class where noting is needed, you can obtain the sink from the factory.</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">import</span><span class="wnn"> </span><span class="sfv">objectos</span><span class="xz3">.</span><span class="sfv">lang</span><span class="xz3">.</span><span class="xz3">*</span><span class="xz3">;</span><span class="wnn">

</span><span class="b1qfi">public</span><span class="wnn"> </span><span class="b1qfi">class</span><span class="wnn"> </span><span class="sfv">Service</span><span class="wnn"> </span><span class="xz3">{</span><span class="wnn">
  </span><span class="b1qfi">private</span><span class="wnn"> </span><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">NoteSink</span><span class="wnn"> </span><span class="sfv">SINK</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">StaticNoteSink</span><span class="xz3">.</span><span class="sfv">get</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">
</span><span class="xz3">}</span></code></pre>
<p class="jsfoj">Consider using this strategy as a last resort as it can make using sinks
for debugging more complicated. Also this strategy is error-prone for the same reasons as
the <em>setter method</em> strategy.</p>
<h2 class="xlvaa c7o9s">Sending notes</h2>
<p class="jsfoj">Now that you have:</p>
<ul class="hjg9i cii9r">
<li class="jsfoj">your notes declared; and</li>
<li class="jsfoj">obtained a <code class="ro9of uga4h ug5si zohbk">NoteSink</code> instance.</li>
</ul>
<p class="jsfoj">You can send notes.</p>
<p class="jsfoj">To send notes you invoke one of the <code class="ro9of uga4h ug5si zohbk">send</code> methods from the <code class="ro9of uga4h ug5si zohbk">NoteSink</code> interface.
The <code class="ro9of uga4h ug5si zohbk">NoteSink</code> interface provides a different <code class="ro9of uga4h ug5si zohbk">send</code> method for each <code class="ro9of uga4h ug5si zohbk">Note</code> subclass.</p>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj"><code>Note0</code></h3>
<p class="jsfoj">Notes of the <code class="ro9of uga4h ug5si zohbk">Note0</code> are not parameterized:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">Note0</span><span class="wnn"> </span><span class="sfv">NOTE</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">Note0</span><span class="xz3">.</span><span class="sfv">info</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">To send a note you invoke the <code class="ro9of uga4h ug5si zohbk">send</code> method passing the note as a parameter:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="sfv">sink</span><span class="xz3">.</span><span class="sfv">send</span><span class="xz3">(</span><span class="sfv">NOTE</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj"><code>Note1</code></h3>
<p class="jsfoj">Notes of the <code class="ro9of uga4h ug5si zohbk">Note1</code> class have a single type argument.
In order to send these notes you must pass an object
of the same type as the type argument of the note.</p>
<p class="jsfoj">For example, if the note is parameterized with a hypothetical <code class="ro9of uga4h ug5si zohbk">Result</code> type:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">Note1</span><span class="xz3">&lt;</span><span class="sfv">Result</span><span class="xz3">&gt;</span><span class="wnn"> </span><span class="sfv">NOTE</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">Note1</span><span class="xz3">.</span><span class="sfv">info</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">You must invoke the <code class="ro9of uga4h ug5si zohbk">send</code> method passing, along with the note itself, a <code class="ro9of uga4h ug5si zohbk">Result</code> instance:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="sfv">Result</span><span class="wnn"> </span><span class="sfv">result</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">computeResult</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">
</span><span class="sfv">sink</span><span class="xz3">.</span><span class="sfv">send</span><span class="xz3">(</span><span class="sfv">NOTE</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">result</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj"><code>Note2</code></h3>
<p class="jsfoj">In a similar way, invoking the <code class="ro9of uga4h ug5si zohbk">send</code> method with <code class="ro9of uga4h ug5si zohbk">Note2</code> notes requires you to
pass, along with the note instance itself, two additional objects.
The two objects must have the same types, in order, as those declared as
type arguments of the note.</p>
<p class="jsfoj">So, if the note is declared as:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">Note2</span><span class="xz3">&lt;</span><span class="sfv">Data</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">Result</span><span class="xz3">&gt;</span><span class="wnn"> </span><span class="sfv">NOTE</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">Note2</span><span class="xz3">.</span><span class="sfv">info</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">Then the <code class="ro9of uga4h ug5si zohbk">send</code> method must be invoked with the arguments in the following order:</p>
<ul class="hjg9i cii9r">
<li class="jsfoj">the note itself;</li>
<li class="jsfoj">a <code class="ro9of uga4h ug5si zohbk">Data</code> object; and</li>
<li class="jsfoj">a <code class="ro9of uga4h ug5si zohbk">Result</code> object.</li>
</ul>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="sfv">Data</span><span class="wnn"> </span><span class="sfv">input</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">getInput</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">
</span><span class="sfv">Result</span><span class="wnn"> </span><span class="sfv">result</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">compute</span><span class="xz3">(</span><span class="sfv">input</span><span class="xz3">)</span><span class="xz3">;</span><span class="wnn">
</span><span class="sfv">sink</span><span class="xz3">.</span><span class="sfv">send</span><span class="xz3">(</span><span class="sfv">NOTE</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">input</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">result</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">If we were to reverse the order of the type arguments in the note declaration:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">Note2</span><span class="xz3">&lt;</span><span class="sfv">Result</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">Data</span><span class="xz3">&gt;</span><span class="wnn"> </span><span class="sfv">NOTE</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">Note2</span><span class="xz3">.</span><span class="sfv">info</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">Then the <code class="ro9of uga4h ug5si zohbk">send</code> method invocation needs to be changed to:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="sfv">sink</span><span class="xz3">.</span><span class="sfv">send</span><span class="xz3">(</span><span class="sfv">NOTE</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">result</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">input</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<h3 class="ju43g aae45 cc50f bufq2 jsfoj"><code>Note3</code></h3>
<p class="jsfoj">Logging <code class="ro9of uga4h ug5si zohbk">Note3</code> notes work in a similar way as <code class="ro9of uga4h ug5si zohbk">Note2</code>. If the note is parameterized,
in order, with the hypothetical types <code class="ro9of uga4h ug5si zohbk">A</code>, <code class="ro9of uga4h ug5si zohbk">B</code> and <code class="ro9of uga4h ug5si zohbk">C</code>:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="b1qfi">static</span><span class="wnn"> </span><span class="b1qfi">final</span><span class="wnn"> </span><span class="sfv">Note3</span><span class="xz3">&lt;</span><span class="sfv">A</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">B</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">C</span><span class="xz3">&gt;</span><span class="wnn"> </span><span class="sfv">NOTE</span><span class="wnn"> </span><span class="xz3">=</span><span class="wnn"> </span><span class="sfv">Note3</span><span class="xz3">.</span><span class="sfv">info</span><span class="xz3">(</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">Then a <code class="ro9of uga4h ug5si zohbk">send</code> method invocation would need to be:</p>
<pre class="ro9of uga4h geko4 jsfoj qeblf"><code><span class="sfv">sink</span><span class="xz3">.</span><span class="sfv">send</span><span class="xz3">(</span><span class="sfv">NOTE</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">a</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">b</span><span class="xz3">,</span><span class="wnn"> </span><span class="sfv">c</span><span class="xz3">)</span><span class="xz3">;</span></code></pre>
<p class="jsfoj">Where <code class="ro9of uga4h ug5si zohbk">a</code>, <code class="ro9of uga4h ug5si zohbk">b</code> and <code class="ro9of uga4h ug5si zohbk">c</code> are objects of types <code class="ro9of uga4h ug5si zohbk">A</code>, <code class="ro9of uga4h ug5si zohbk">B</code> and <code class="ro9of uga4h ug5si zohbk">C</code> respectively.</p>
</div>
</div>
</article>
</main>
</div>
</div>
<footer class="y48jc whsdh j0egu ma2jt ydufq">
<nav class="vtvvj btui4">
<p class="uga4h prr0x d2ko0">&copy; 2010-2023 Objectos Software LTDA. All rights reserved.</p>
</nav>
</footer>
</body>
</html>
